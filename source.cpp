#include <iostream>
#include <fstream>
#include <cmath>
#include <sstream>

using namespace std;

double* approximation_calc(double *z_tab, double *y_tab, unsigned int n, double *a, double *b)
{
    double* apx_arr = new double [n];
    double s[4] = {0,0,0,0};
    for(int i = 0; i < n; i++)
    {
        s[0] += y_tab[i];
        s[1] += z_tab[i];
        s[2] += y_tab[i] * y_tab[i];
        s[3] += y_tab[i] * z_tab[i];
    }
    double w = n * s[2] - s[0] * s[0];
    double w1 = s[1] * s[2] - s[3] * s[0];
    double w2 = n * s[3] - s[0] * s[1];
    *b = w1 / w;
    *a = w2 / w;
    cout << "Approximation function is: " << endl;
    cout << "f(x)=" << *a << "x+" << *b <<endl;
    for (int i = 0; i < n; i++)
        apx_arr[i] = *a*y_tab[i]+*b;
    return apx_arr;

}

double* y_table_create(unsigned int n)
{
    double *tab = new double [n];
    for (int i = 0; i < n; i++)
        tab[i] = i+1;
    return tab;
}

double* read_line(unsigned int n)
{
    double* tab = new double[n];
    double num;
    fstream file;
    file.open("27_work.txt", ios::in);
    if(file.is_open())
    {
        for (int i = 0; i < n; i++)
        {
            file >> num;
            tab[i] = num;
        }
    }
    file.close();
    return tab;
}

void create_file(double *tab, string name, unsigned int n)
{
    ofstream file(name);
    for (int i = 0; i < n; i++)
        file << tab[i] << endl;
    file.close();
}

double *interpolation_calc(double *y_tab, double *z_tab, unsigned int n)
{
    double *inter_arr = new double [241];
    double result = 0;
    double term, val;
    string fun;
    for (int s = 10; s <= 250; s++)
    {
        val = double(s)/10;
        for (int i = 0; i < n; i++)
        {
            term = z_tab[i];
            for (int j = 0; j < n; j++)
            {
                if(j != i)
                    term = term * ((val - y_tab[j]) / (y_tab[i] - y_tab[j]));
            }
            result += term;

        }
            inter_arr[s-10] = result;
            result = 0;

    }

    for (int i = 0; i < n; i++)
    {
        term = z_tab[i];
        for (int j = 0; j < n; j++)
            if (j != i)
            {
                fun.append(to_string(term) + " * ((x - " + to_string(y_tab[j]) + ") / (" + to_string(y_tab[i] - y_tab[j]) + ")) + ");
            }
    }
    cout << fun << endl;
    ofstream file("interpolation_function.txt");
    file << fun;
    file.close();
    return inter_arr;

}

double approximation_func(double a, double b, const double& x)
{
    return a*x+b;
}

double interpolation_func(const double &x)
{
    return 182.652000 * ((x - 2.000000) / (-1.000000)) + 182.652000 * ((x - 3.000000) / (-2.000000)) + 182.652000 * ((x - 4.000000) / (-3.000000)) + 182.652000 * ((x - 5.000000) / (-4.000000)) + 182.652000 * ((x - 6.000000) / (-5.000000)) + 182.652000 * ((x - 7.000000) / (-6.000000)) + 182.652000 * ((x - 8.000000) / (-7.000000)) + 182.652000 * ((x - 9.000000) / (-8.000000)) + 182.652000 * ((x - 10.000000) / (-9.000000)) + 182.652000 * ((x - 11.000000) / (-10.000000)) + 182.652000 * ((x - 12.000000) / (-11.000000)) + 182.652000 * ((x - 13.000000) / (-12.000000)) + 182.652000 * ((x - 14.000000) / (-13.000000)) + 182.652000 * ((x - 15.000000) / (-14.000000)) + 182.652000 * ((x - 16.000000) / (-15.000000)) + 182.652000 * ((x - 17.000000) / (-16.000000)) + 182.652000 * ((x - 18.000000) / (-17.000000)) + 182.652000 * ((x - 19.000000) / (-18.000000)) + 182.652000 * ((x - 20.000000) / (-19.000000)) + 182.652000 * ((x - 21.000000) / (-20.000000)) + 182.652000 * ((x - 22.000000) / (-21.000000)) + 182.652000 * ((x - 23.000000) / (-22.000000)) + 182.652000 * ((x - 24.000000) / (-23.000000)) + 182.652000 * ((x - 25.000000) / (-24.000000)) + 169.261000 * ((x - 1.000000) / (1.000000)) + 169.261000 * ((x - 3.000000) / (-1.000000)) + 169.261000 * ((x - 4.000000) / (-2.000000)) + 169.261000 * ((x - 5.000000) / (-3.000000)) + 169.261000 * ((x - 6.000000) / (-4.000000)) + 169.261000 * ((x - 7.000000) / (-5.000000)) + 169.261000 * ((x - 8.000000) / (-6.000000)) + 169.261000 * ((x - 9.000000) / (-7.000000)) + 169.261000 * ((x - 10.000000) / (-8.000000)) + 169.261000 * ((x - 11.000000) / (-9.000000)) + 169.261000 * ((x - 12.000000) / (-10.000000)) + 169.261000 * ((x - 13.000000) / (-11.000000)) + 169.261000 * ((x - 14.000000) / (-12.000000)) + 169.261000 * ((x - 15.000000) / (-13.000000)) + 169.261000 * ((x - 16.000000) / (-14.000000)) + 169.261000 * ((x - 17.000000) / (-15.000000)) + 169.261000 * ((x - 18.000000) / (-16.000000)) + 169.261000 * ((x - 19.000000) / (-17.000000)) + 169.261000 * ((x - 20.000000) / (-18.000000)) + 169.261000 * ((x - 21.000000) / (-19.000000)) + 169.261000 * ((x - 22.000000) / (-20.000000)) + 169.261000 * ((x - 23.000000) / (-21.000000)) + 169.261000 * ((x - 24.000000) / (-22.000000)) + 169.261000 * ((x - 25.000000) / (-23.000000)) + 169.282000 * ((x - 1.000000) / (2.000000)) + 169.282000 * ((x - 2.000000) / (1.000000)) + 169.282000 * ((x - 4.000000) / (-1.000000)) + 169.282000 * ((x - 5.000000) / (-2.000000)) + 169.282000 * ((x - 6.000000) / (-3.000000)) + 169.282000 * ((x - 7.000000) / (-4.000000)) + 169.282000 * ((x - 8.000000) / (-5.000000)) + 169.282000 * ((x - 9.000000) / (-6.000000)) + 169.282000 * ((x - 10.000000) / (-7.000000)) + 169.282000 * ((x - 11.000000) / (-8.000000)) + 169.282000 * ((x - 12.000000) / (-9.000000)) + 169.282000 * ((x - 13.000000) / (-10.000000)) + 169.282000 * ((x - 14.000000) / (-11.000000)) + 169.282000 * ((x - 15.000000) / (-12.000000)) + 169.282000 * ((x - 16.000000) / (-13.000000)) + 169.282000 * ((x - 17.000000) / (-14.000000)) + 169.282000 * ((x - 18.000000) / (-15.000000)) + 169.282000 * ((x - 19.000000) / (-16.000000)) + 169.282000 * ((x - 20.000000) / (-17.000000)) + 169.282000 * ((x - 21.000000) / (-18.000000)) + 169.282000 * ((x - 22.000000) / (-19.000000)) + 169.282000 * ((x - 23.000000) / (-20.000000)) + 169.282000 * ((x - 24.000000) / (-21.000000)) + 169.282000 * ((x - 25.000000) / (-22.000000)) + 163.737000 * ((x - 1.000000) / (3.000000)) + 163.737000 * ((x - 2.000000) / (2.000000)) + 163.737000 * ((x - 3.000000) / (1.000000)) + 163.737000 * ((x - 5.000000) / (-1.000000)) + 163.737000 * ((x - 6.000000) / (-2.000000)) + 163.737000 * ((x - 7.000000) / (-3.000000)) + 163.737000 * ((x - 8.000000) / (-4.000000)) + 163.737000 * ((x - 9.000000) / (-5.000000)) + 163.737000 * ((x - 10.000000) / (-6.000000)) + 163.737000 * ((x - 11.000000) / (-7.000000)) + 163.737000 * ((x - 12.000000) / (-8.000000)) + 163.737000 * ((x - 13.000000) / (-9.000000)) + 163.737000 * ((x - 14.000000) / (-10.000000)) + 163.737000 * ((x - 15.000000) / (-11.000000)) + 163.737000 * ((x - 16.000000) / (-12.000000)) + 163.737000 * ((x - 17.000000) / (-13.000000)) + 163.737000 * ((x - 18.000000) / (-14.000000)) + 163.737000 * ((x - 19.000000) / (-15.000000)) + 163.737000 * ((x - 20.000000) / (-16.000000)) + 163.737000 * ((x - 21.000000) / (-17.000000)) + 163.737000 * ((x - 22.000000) / (-18.000000)) + 163.737000 * ((x - 23.000000) / (-19.000000)) + 163.737000 * ((x - 24.000000) / (-20.000000)) + 163.737000 * ((x - 25.000000) / (-21.000000)) + 158.873000 * ((x - 1.000000) / (4.000000)) + 158.873000 * ((x - 2.000000) / (3.000000)) + 158.873000 * ((x - 3.000000) / (2.000000)) + 158.873000 * ((x - 4.000000) / (1.000000)) + 158.873000 * ((x - 6.000000) / (-1.000000)) + 158.873000 * ((x - 7.000000) / (-2.000000)) + 158.873000 * ((x - 8.000000) / (-3.000000)) + 158.873000 * ((x - 9.000000) / (-4.000000)) + 158.873000 * ((x - 10.000000) / (-5.000000)) + 158.873000 * ((x - 11.000000) / (-6.000000)) + 158.873000 * ((x - 12.000000) / (-7.000000)) + 158.873000 * ((x - 13.000000) / (-8.000000)) + 158.873000 * ((x - 14.000000) / (-9.000000)) + 158.873000 * ((x - 15.000000) / (-10.000000)) + 158.873000 * ((x - 16.000000) / (-11.000000)) + 158.873000 * ((x - 17.000000) / (-12.000000)) + 158.873000 * ((x - 18.000000) / (-13.000000)) + 158.873000 * ((x - 19.000000) / (-14.000000)) + 158.873000 * ((x - 20.000000) / (-15.000000)) + 158.873000 * ((x - 21.000000) / (-16.000000)) + 158.873000 * ((x - 22.000000) / (-17.000000)) + 158.873000 * ((x - 23.000000) / (-18.000000)) + 158.873000 * ((x - 24.000000) / (-19.000000)) + 158.873000 * ((x - 25.000000) / (-20.000000)) + 167.298000 * ((x - 1.000000) / (5.000000)) + 167.298000 * ((x - 2.000000) / (4.000000)) + 167.298000 * ((x - 3.000000) / (3.000000)) + 167.298000 * ((x - 4.000000) / (2.000000)) + 167.298000 * ((x - 5.000000) / (1.000000)) + 167.298000 * ((x - 7.000000) / (-1.000000)) + 167.298000 * ((x - 8.000000) / (-2.000000)) + 167.298000 * ((x - 9.000000) / (-3.000000)) + 167.298000 * ((x - 10.000000) / (-4.000000)) + 167.298000 * ((x - 11.000000) / (-5.000000)) + 167.298000 * ((x - 12.000000) / (-6.000000)) + 167.298000 * ((x - 13.000000) / (-7.000000)) + 167.298000 * ((x - 14.000000) / (-8.000000)) + 167.298000 * ((x - 15.000000) / (-9.000000)) + 167.298000 * ((x - 16.000000) / (-10.000000)) + 167.298000 * ((x - 17.000000) / (-11.000000)) + 167.298000 * ((x - 18.000000) / (-12.000000)) + 167.298000 * ((x - 19.000000) / (-13.000000)) + 167.298000 * ((x - 20.000000) / (-14.000000)) + 167.298000 * ((x - 21.000000) / (-15.000000)) + 167.298000 * ((x - 22.000000) / (-16.000000)) + 167.298000 * ((x - 23.000000) / (-17.000000)) + 167.298000 * ((x - 24.000000) / (-18.000000)) + 167.298000 * ((x - 25.000000) / (-19.000000)) + 162.597000 * ((x - 1.000000) / (6.000000)) + 162.597000 * ((x - 2.000000) / (5.000000)) + 162.597000 * ((x - 3.000000) / (4.000000)) + 162.597000 * ((x - 4.000000) / (3.000000)) + 162.597000 * ((x - 5.000000) / (2.000000)) + 162.597000 * ((x - 6.000000) / (1.000000)) + 162.597000 * ((x - 8.000000) / (-1.000000)) + 162.597000 * ((x - 9.000000) / (-2.000000)) + 162.597000 * ((x - 10.000000) / (-3.000000)) + 162.597000 * ((x - 11.000000) / (-4.000000)) + 162.597000 * ((x - 12.000000) / (-5.000000)) + 162.597000 * ((x - 13.000000) / (-6.000000)) + 162.597000 * ((x - 14.000000) / (-7.000000)) + 162.597000 * ((x - 15.000000) / (-8.000000)) + 162.597000 * ((x - 16.000000) / (-9.000000)) + 162.597000 * ((x - 17.000000) / (-10.000000)) + 162.597000 * ((x - 18.000000) / (-11.000000)) + 162.597000 * ((x - 19.000000) / (-12.000000)) + 162.597000 * ((x - 20.000000) / (-13.000000)) + 162.597000 * ((x - 21.000000) / (-14.000000)) + 162.597000 * ((x - 22.000000) / (-15.000000)) + 162.597000 * ((x - 23.000000) / (-16.000000)) + 162.597000 * ((x - 24.000000) / (-17.000000)) + 162.597000 * ((x - 25.000000) / (-18.000000)) + 153.532000 * ((x - 1.000000) / (7.000000)) + 153.532000 * ((x - 2.000000) / (6.000000)) + 153.532000 * ((x - 3.000000) / (5.000000)) + 153.532000 * ((x - 4.000000) / (4.000000)) + 153.532000 * ((x - 5.000000) / (3.000000)) + 153.532000 * ((x - 6.000000) / (2.000000)) + 153.532000 * ((x - 7.000000) / (1.000000)) + 153.532000 * ((x - 9.000000) / (-1.000000)) + 153.532000 * ((x - 10.000000) / (-2.000000)) + 153.532000 * ((x - 11.000000) / (-3.000000)) + 153.532000 * ((x - 12.000000) / (-4.000000)) + 153.532000 * ((x - 13.000000) / (-5.000000)) + 153.532000 * ((x - 14.000000) / (-6.000000)) + 153.532000 * ((x - 15.000000) / (-7.000000)) + 153.532000 * ((x - 16.000000) / (-8.000000)) + 153.532000 * ((x - 17.000000) / (-9.000000)) + 153.532000 * ((x - 18.000000) / (-10.000000)) + 153.532000 * ((x - 19.000000) / (-11.000000)) + 153.532000 * ((x - 20.000000) / (-12.000000)) + 153.532000 * ((x - 21.000000) / (-13.000000)) + 153.532000 * ((x - 22.000000) / (-14.000000)) + 153.532000 * ((x - 23.000000) / (-15.000000)) + 153.532000 * ((x - 24.000000) / (-16.000000)) + 153.532000 * ((x - 25.000000) / (-17.000000)) + 166.789000 * ((x - 1.000000) / (8.000000)) + 166.789000 * ((x - 2.000000) / (7.000000)) + 166.789000 * ((x - 3.000000) / (6.000000)) + 166.789000 * ((x - 4.000000) / (5.000000)) + 166.789000 * ((x - 5.000000) / (4.000000)) + 166.789000 * ((x - 6.000000) / (3.000000)) + 166.789000 * ((x - 7.000000) / (2.000000)) + 166.789000 * ((x - 8.000000) / (1.000000)) + 166.789000 * ((x - 10.000000) / (-1.000000)) + 166.789000 * ((x - 11.000000) / (-2.000000)) + 166.789000 * ((x - 12.000000) / (-3.000000)) + 166.789000 * ((x - 13.000000) / (-4.000000)) + 166.789000 * ((x - 14.000000) / (-5.000000)) + 166.789000 * ((x - 15.000000) / (-6.000000)) + 166.789000 * ((x - 16.000000) / (-7.000000)) + 166.789000 * ((x - 17.000000) / (-8.000000)) + 166.789000 * ((x - 18.000000) / (-9.000000)) + 166.789000 * ((x - 19.000000) / (-10.000000)) + 166.789000 * ((x - 20.000000) / (-11.000000)) + 166.789000 * ((x - 21.000000) / (-12.000000)) + 166.789000 * ((x - 22.000000) / (-13.000000)) + 166.789000 * ((x - 23.000000) / (-14.000000)) + 166.789000 * ((x - 24.000000) / (-15.000000)) + 166.789000 * ((x - 25.000000) / (-16.000000)) + 164.649000 * ((x - 1.000000) / (9.000000)) + 164.649000 * ((x - 2.000000) / (8.000000)) + 164.649000 * ((x - 3.000000) / (7.000000)) + 164.649000 * ((x - 4.000000) / (6.000000)) + 164.649000 * ((x - 5.000000) / (5.000000)) + 164.649000 * ((x - 6.000000) / (4.000000)) + 164.649000 * ((x - 7.000000) / (3.000000)) + 164.649000 * ((x - 8.000000) / (2.000000)) + 164.649000 * ((x - 9.000000) / (1.000000)) + 164.649000 * ((x - 11.000000) / (-1.000000)) + 164.649000 * ((x - 12.000000) / (-2.000000)) + 164.649000 * ((x - 13.000000) / (-3.000000)) + 164.649000 * ((x - 14.000000) / (-4.000000)) + 164.649000 * ((x - 15.000000) / (-5.000000)) + 164.649000 * ((x - 16.000000) / (-6.000000)) + 164.649000 * ((x - 17.000000) / (-7.000000)) + 164.649000 * ((x - 18.000000) / (-8.000000)) + 164.649000 * ((x - 19.000000) / (-9.000000)) + 164.649000 * ((x - 20.000000) / (-10.000000)) + 164.649000 * ((x - 21.000000) / (-11.000000)) + 164.649000 * ((x - 22.000000) / (-12.000000)) + 164.649000 * ((x - 23.000000) / (-13.000000)) + 164.649000 * ((x - 24.000000) / (-14.000000)) + 164.649000 * ((x - 25.000000) / (-15.000000)) + 149.342000 * ((x - 1.000000) / (10.000000)) + 149.342000 * ((x - 2.000000) / (9.000000)) + 149.342000 * ((x - 3.000000) / (8.000000)) + 149.342000 * ((x - 4.000000) / (7.000000)) + 149.342000 * ((x - 5.000000) / (6.000000)) + 149.342000 * ((x - 6.000000) / (5.000000)) + 149.342000 * ((x - 7.000000) / (4.000000)) + 149.342000 * ((x - 8.000000) / (3.000000)) + 149.342000 * ((x - 9.000000) / (2.000000)) + 149.342000 * ((x - 10.000000) / (1.000000)) + 149.342000 * ((x - 12.000000) / (-1.000000)) + 149.342000 * ((x - 13.000000) / (-2.000000)) + 149.342000 * ((x - 14.000000) / (-3.000000)) + 149.342000 * ((x - 15.000000) / (-4.000000)) + 149.342000 * ((x - 16.000000) / (-5.000000)) + 149.342000 * ((x - 17.000000) / (-6.000000)) + 149.342000 * ((x - 18.000000) / (-7.000000)) + 149.342000 * ((x - 19.000000) / (-8.000000)) + 149.342000 * ((x - 20.000000) / (-9.000000)) + 149.342000 * ((x - 21.000000) / (-10.000000)) + 149.342000 * ((x - 22.000000) / (-11.000000)) + 149.342000 * ((x - 23.000000) / (-12.000000)) + 149.342000 * ((x - 24.000000) / (-13.000000)) + 149.342000 * ((x - 25.000000) / (-14.000000)) + 165.242000 * ((x - 1.000000) / (11.000000)) + 165.242000 * ((x - 2.000000) / (10.000000)) + 165.242000 * ((x - 3.000000) / (9.000000)) + 165.242000 * ((x - 4.000000) / (8.000000)) + 165.242000 * ((x - 5.000000) / (7.000000)) + 165.242000 * ((x - 6.000000) / (6.000000)) + 165.242000 * ((x - 7.000000) / (5.000000)) + 165.242000 * ((x - 8.000000) / (4.000000)) + 165.242000 * ((x - 9.000000) / (3.000000)) + 165.242000 * ((x - 10.000000) / (2.000000)) + 165.242000 * ((x - 11.000000) / (1.000000)) + 165.242000 * ((x - 13.000000) / (-1.000000)) + 165.242000 * ((x - 14.000000) / (-2.000000)) + 165.242000 * ((x - 15.000000) / (-3.000000)) + 165.242000 * ((x - 16.000000) / (-4.000000)) + 165.242000 * ((x - 17.000000) / (-5.000000)) + 165.242000 * ((x - 18.000000) / (-6.000000)) + 165.242000 * ((x - 19.000000) / (-7.000000)) + 165.242000 * ((x - 20.000000) / (-8.000000)) + 165.242000 * ((x - 21.000000) / (-9.000000)) + 165.242000 * ((x - 22.000000) / (-10.000000)) + 165.242000 * ((x - 23.000000) / (-11.000000)) + 165.242000 * ((x - 24.000000) / (-12.000000)) + 165.242000 * ((x - 25.000000) / (-13.000000)) + 168.402000 * ((x - 1.000000) / (12.000000)) + 168.402000 * ((x - 2.000000) / (11.000000)) + 168.402000 * ((x - 3.000000) / (10.000000)) + 168.402000 * ((x - 4.000000) / (9.000000)) + 168.402000 * ((x - 5.000000) / (8.000000)) + 168.402000 * ((x - 6.000000) / (7.000000)) + 168.402000 * ((x - 7.000000) / (6.000000)) + 168.402000 * ((x - 8.000000) / (5.000000)) + 168.402000 * ((x - 9.000000) / (4.000000)) + 168.402000 * ((x - 10.000000) / (3.000000)) + 168.402000 * ((x - 11.000000) / (2.000000)) + 168.402000 * ((x - 12.000000) / (1.000000)) + 168.402000 * ((x - 14.000000) / (-1.000000)) + 168.402000 * ((x - 15.000000) / (-2.000000)) + 168.402000 * ((x - 16.000000) / (-3.000000)) + 168.402000 * ((x - 17.000000) / (-4.000000)) + 168.402000 * ((x - 18.000000) / (-5.000000)) + 168.402000 * ((x - 19.000000) / (-6.000000)) + 168.402000 * ((x - 20.000000) / (-7.000000)) + 168.402000 * ((x - 21.000000) / (-8.000000)) + 168.402000 * ((x - 22.000000) / (-9.000000)) + 168.402000 * ((x - 23.000000) / (-10.000000)) + 168.402000 * ((x - 24.000000) / (-11.000000)) + 168.402000 * ((x - 25.000000) / (-12.000000)) + 146.378000 * ((x - 1.000000) / (13.000000)) + 146.378000 * ((x - 2.000000) / (12.000000)) + 146.378000 * ((x - 3.000000) / (11.000000)) + 146.378000 * ((x - 4.000000) / (10.000000)) + 146.378000 * ((x - 5.000000) / (9.000000)) + 146.378000 * ((x - 6.000000) / (8.000000)) + 146.378000 * ((x - 7.000000) / (7.000000)) + 146.378000 * ((x - 8.000000) / (6.000000)) + 146.378000 * ((x - 9.000000) / (5.000000)) + 146.378000 * ((x - 10.000000) / (4.000000)) + 146.378000 * ((x - 11.000000) / (3.000000)) + 146.378000 * ((x - 12.000000) / (2.000000)) + 146.378000 * ((x - 13.000000) / (1.000000)) + 146.378000 * ((x - 15.000000) / (-1.000000)) + 146.378000 * ((x - 16.000000) / (-2.000000)) + 146.378000 * ((x - 17.000000) / (-3.000000)) + 146.378000 * ((x - 18.000000) / (-4.000000)) + 146.378000 * ((x - 19.000000) / (-5.000000)) + 146.378000 * ((x - 20.000000) / (-6.000000)) + 146.378000 * ((x - 21.000000) / (-7.000000)) + 146.378000 * ((x - 22.000000) / (-8.000000)) + 146.378000 * ((x - 23.000000) / (-9.000000)) + 146.378000 * ((x - 24.000000) / (-10.000000)) + 146.378000 * ((x - 25.000000) / (-11.000000)) + 162.049000 * ((x - 1.000000) / (14.000000)) + 162.049000 * ((x - 2.000000) / (13.000000)) + 162.049000 * ((x - 3.000000) / (12.000000)) + 162.049000 * ((x - 4.000000) / (11.000000)) + 162.049000 * ((x - 5.000000) / (10.000000)) + 162.049000 * ((x - 6.000000) / (9.000000)) + 162.049000 * ((x - 7.000000) / (8.000000)) + 162.049000 * ((x - 8.000000) / (7.000000)) + 162.049000 * ((x - 9.000000) / (6.000000)) + 162.049000 * ((x - 10.000000) / (5.000000)) + 162.049000 * ((x - 11.000000) / (4.000000)) + 162.049000 * ((x - 12.000000) / (3.000000)) + 162.049000 * ((x - 13.000000) / (2.000000)) + 162.049000 * ((x - 14.000000) / (1.000000)) + 162.049000 * ((x - 16.000000) / (-1.000000)) + 162.049000 * ((x - 17.000000) / (-2.000000)) + 162.049000 * ((x - 18.000000) / (-3.000000)) + 162.049000 * ((x - 19.000000) / (-4.000000)) + 162.049000 * ((x - 20.000000) / (-5.000000)) + 162.049000 * ((x - 21.000000) / (-6.000000)) + 162.049000 * ((x - 22.000000) / (-7.000000)) + 162.049000 * ((x - 23.000000) / (-8.000000)) + 162.049000 * ((x - 24.000000) / (-9.000000)) + 162.049000 * ((x - 25.000000) / (-10.000000)) + 172.979000 * ((x - 1.000000) / (15.000000)) + 172.979000 * ((x - 2.000000) / (14.000000)) + 172.979000 * ((x - 3.000000) / (13.000000)) + 172.979000 * ((x - 4.000000) / (12.000000)) + 172.979000 * ((x - 5.000000) / (11.000000)) + 172.979000 * ((x - 6.000000) / (10.000000)) + 172.979000 * ((x - 7.000000) / (9.000000)) + 172.979000 * ((x - 8.000000) / (8.000000)) + 172.979000 * ((x - 9.000000) / (7.000000)) + 172.979000 * ((x - 10.000000) / (6.000000)) + 172.979000 * ((x - 11.000000) / (5.000000)) + 172.979000 * ((x - 12.000000) / (4.000000)) + 172.979000 * ((x - 13.000000) / (3.000000)) + 172.979000 * ((x - 14.000000) / (2.000000)) + 172.979000 * ((x - 15.000000) / (1.000000)) + 172.979000 * ((x - 17.000000) / (-1.000000)) + 172.979000 * ((x - 18.000000) / (-2.000000)) + 172.979000 * ((x - 19.000000) / (-3.000000)) + 172.979000 * ((x - 20.000000) / (-4.000000)) + 172.979000 * ((x - 21.000000) / (-5.000000)) + 172.979000 * ((x - 22.000000) / (-6.000000)) + 172.979000 * ((x - 23.000000) / (-7.000000)) + 172.979000 * ((x - 24.000000) / (-8.000000)) + 172.979000 * ((x - 25.000000) / (-9.000000)) + 145.113000 * ((x - 1.000000) / (16.000000)) + 145.113000 * ((x - 2.000000) / (15.000000)) + 145.113000 * ((x - 3.000000) / (14.000000)) + 145.113000 * ((x - 4.000000) / (13.000000)) + 145.113000 * ((x - 5.000000) / (12.000000)) + 145.113000 * ((x - 6.000000) / (11.000000)) + 145.113000 * ((x - 7.000000) / (10.000000)) + 145.113000 * ((x - 8.000000) / (9.000000)) + 145.113000 * ((x - 9.000000) / (8.000000)) + 145.113000 * ((x - 10.000000) / (7.000000)) + 145.113000 * ((x - 11.000000) / (6.000000)) + 145.113000 * ((x - 12.000000) / (5.000000)) + 145.113000 * ((x - 13.000000) / (4.000000)) + 145.113000 * ((x - 14.000000) / (3.000000)) + 145.113000 * ((x - 15.000000) / (2.000000)) + 145.113000 * ((x - 16.000000) / (1.000000)) + 145.113000 * ((x - 18.000000) / (-1.000000)) + 145.113000 * ((x - 19.000000) / (-2.000000)) + 145.113000 * ((x - 20.000000) / (-3.000000)) + 145.113000 * ((x - 21.000000) / (-4.000000)) + 145.113000 * ((x - 22.000000) / (-5.000000)) + 145.113000 * ((x - 23.000000) / (-6.000000)) + 145.113000 * ((x - 24.000000) / (-7.000000)) + 145.113000 * ((x - 25.000000) / (-8.000000)) + 157.154000 * ((x - 1.000000) / (17.000000)) + 157.154000 * ((x - 2.000000) / (16.000000)) + 157.154000 * ((x - 3.000000) / (15.000000)) + 157.154000 * ((x - 4.000000) / (14.000000)) + 157.154000 * ((x - 5.000000) / (13.000000)) + 157.154000 * ((x - 6.000000) / (12.000000)) + 157.154000 * ((x - 7.000000) / (11.000000)) + 157.154000 * ((x - 8.000000) / (10.000000)) + 157.154000 * ((x - 9.000000) / (9.000000)) + 157.154000 * ((x - 10.000000) / (8.000000)) + 157.154000 * ((x - 11.000000) / (7.000000)) + 157.154000 * ((x - 12.000000) / (6.000000)) + 157.154000 * ((x - 13.000000) / (5.000000)) + 157.154000 * ((x - 14.000000) / (4.000000)) + 157.154000 * ((x - 15.000000) / (3.000000)) + 157.154000 * ((x - 16.000000) / (2.000000)) + 157.154000 * ((x - 17.000000) / (1.000000)) + 157.154000 * ((x - 19.000000) / (-1.000000)) + 157.154000 * ((x - 20.000000) / (-2.000000)) + 157.154000 * ((x - 21.000000) / (-3.000000)) + 157.154000 * ((x - 22.000000) / (-4.000000)) + 157.154000 * ((x - 23.000000) / (-5.000000)) + 157.154000 * ((x - 24.000000) / (-6.000000)) + 157.154000 * ((x - 25.000000) / (-7.000000)) + 177.531000 * ((x - 1.000000) / (18.000000)) + 177.531000 * ((x - 2.000000) / (17.000000)) + 177.531000 * ((x - 3.000000) / (16.000000)) + 177.531000 * ((x - 4.000000) / (15.000000)) + 177.531000 * ((x - 5.000000) / (14.000000)) + 177.531000 * ((x - 6.000000) / (13.000000)) + 177.531000 * ((x - 7.000000) / (12.000000)) + 177.531000 * ((x - 8.000000) / (11.000000)) + 177.531000 * ((x - 9.000000) / (10.000000)) + 177.531000 * ((x - 10.000000) / (9.000000)) + 177.531000 * ((x - 11.000000) / (8.000000)) + 177.531000 * ((x - 12.000000) / (7.000000)) + 177.531000 * ((x - 13.000000) / (6.000000)) + 177.531000 * ((x - 14.000000) / (5.000000)) + 177.531000 * ((x - 15.000000) / (4.000000)) + 177.531000 * ((x - 16.000000) / (3.000000)) + 177.531000 * ((x - 17.000000) / (2.000000)) + 177.531000 * ((x - 18.000000) / (1.000000)) + 177.531000 * ((x - 20.000000) / (-1.000000)) + 177.531000 * ((x - 21.000000) / (-2.000000)) + 177.531000 * ((x - 22.000000) / (-3.000000)) + 177.531000 * ((x - 23.000000) / (-4.000000)) + 177.531000 * ((x - 24.000000) / (-5.000000)) + 177.531000 * ((x - 25.000000) / (-6.000000)) + 145.980000 * ((x - 1.000000) / (19.000000)) + 145.980000 * ((x - 2.000000) / (18.000000)) + 145.980000 * ((x - 3.000000) / (17.000000)) + 145.980000 * ((x - 4.000000) / (16.000000)) + 145.980000 * ((x - 5.000000) / (15.000000)) + 145.980000 * ((x - 6.000000) / (14.000000)) + 145.980000 * ((x - 7.000000) / (13.000000)) + 145.980000 * ((x - 8.000000) / (12.000000)) + 145.980000 * ((x - 9.000000) / (11.000000)) + 145.980000 * ((x - 10.000000) / (10.000000)) + 145.980000 * ((x - 11.000000) / (9.000000)) + 145.980000 * ((x - 12.000000) / (8.000000)) + 145.980000 * ((x - 13.000000) / (7.000000)) + 145.980000 * ((x - 14.000000) / (6.000000)) + 145.980000 * ((x - 15.000000) / (5.000000)) + 145.980000 * ((x - 16.000000) / (4.000000)) + 145.980000 * ((x - 17.000000) / (3.000000)) + 145.980000 * ((x - 18.000000) / (2.000000)) + 145.980000 * ((x - 19.000000) / (1.000000)) + 145.980000 * ((x - 21.000000) / (-1.000000)) + 145.980000 * ((x - 22.000000) / (-2.000000)) + 145.980000 * ((x - 23.000000) / (-3.000000)) + 145.980000 * ((x - 24.000000) / (-4.000000)) + 145.980000 * ((x - 25.000000) / (-5.000000)) + 150.859000 * ((x - 1.000000) / (20.000000)) + 150.859000 * ((x - 2.000000) / (19.000000)) + 150.859000 * ((x - 3.000000) / (18.000000)) + 150.859000 * ((x - 4.000000) / (17.000000)) + 150.859000 * ((x - 5.000000) / (16.000000)) + 150.859000 * ((x - 6.000000) / (15.000000)) + 150.859000 * ((x - 7.000000) / (14.000000)) + 150.859000 * ((x - 8.000000) / (13.000000)) + 150.859000 * ((x - 9.000000) / (12.000000)) + 150.859000 * ((x - 10.000000) / (11.000000)) + 150.859000 * ((x - 11.000000) / (10.000000)) + 150.859000 * ((x - 12.000000) / (9.000000)) + 150.859000 * ((x - 13.000000) / (8.000000)) + 150.859000 * ((x - 14.000000) / (7.000000)) + 150.859000 * ((x - 15.000000) / (6.000000)) + 150.859000 * ((x - 16.000000) / (5.000000)) + 150.859000 * ((x - 17.000000) / (4.000000)) + 150.859000 * ((x - 18.000000) / (3.000000)) + 150.859000 * ((x - 19.000000) / (2.000000)) + 150.859000 * ((x - 20.000000) / (1.000000)) + 150.859000 * ((x - 22.000000) / (-1.000000)) + 150.859000 * ((x - 23.000000) / (-2.000000)) + 150.859000 * ((x - 24.000000) / (-3.000000)) + 150.859000 * ((x - 25.000000) / (-4.000000)) + 181.202000 * ((x - 1.000000) / (21.000000)) + 181.202000 * ((x - 2.000000) / (20.000000)) + 181.202000 * ((x - 3.000000) / (19.000000)) + 181.202000 * ((x - 4.000000) / (18.000000)) + 181.202000 * ((x - 5.000000) / (17.000000)) + 181.202000 * ((x - 6.000000) / (16.000000)) + 181.202000 * ((x - 7.000000) / (15.000000)) + 181.202000 * ((x - 8.000000) / (14.000000)) + 181.202000 * ((x - 9.000000) / (13.000000)) + 181.202000 * ((x - 10.000000) / (12.000000)) + 181.202000 * ((x - 11.000000) / (11.000000)) + 181.202000 * ((x - 12.000000) / (10.000000)) + 181.202000 * ((x - 13.000000) / (9.000000)) + 181.202000 * ((x - 14.000000) / (8.000000)) + 181.202000 * ((x - 15.000000) / (7.000000)) + 181.202000 * ((x - 16.000000) / (6.000000)) + 181.202000 * ((x - 17.000000) / (5.000000)) + 181.202000 * ((x - 18.000000) / (4.000000)) + 181.202000 * ((x - 19.000000) / (3.000000)) + 181.202000 * ((x - 20.000000) / (2.000000)) + 181.202000 * ((x - 21.000000) / (1.000000)) + 181.202000 * ((x - 23.000000) / (-1.000000)) + 181.202000 * ((x - 24.000000) / (-2.000000)) + 181.202000 * ((x - 25.000000) / (-3.000000)) + 149.215000 * ((x - 1.000000) / (22.000000)) + 149.215000 * ((x - 2.000000) / (21.000000)) + 149.215000 * ((x - 3.000000) / (20.000000)) + 149.215000 * ((x - 4.000000) / (19.000000)) + 149.215000 * ((x - 5.000000) / (18.000000)) + 149.215000 * ((x - 6.000000) / (17.000000)) + 149.215000 * ((x - 7.000000) / (16.000000)) + 149.215000 * ((x - 8.000000) / (15.000000)) + 149.215000 * ((x - 9.000000) / (14.000000)) + 149.215000 * ((x - 10.000000) / (13.000000)) + 149.215000 * ((x - 11.000000) / (12.000000)) + 149.215000 * ((x - 12.000000) / (11.000000)) + 149.215000 * ((x - 13.000000) / (10.000000)) + 149.215000 * ((x - 14.000000) / (9.000000)) + 149.215000 * ((x - 15.000000) / (8.000000)) + 149.215000 * ((x - 16.000000) / (7.000000)) + 149.215000 * ((x - 17.000000) / (6.000000)) + 149.215000 * ((x - 18.000000) / (5.000000)) + 149.215000 * ((x - 19.000000) / (4.000000)) + 149.215000 * ((x - 20.000000) / (3.000000)) + 149.215000 * ((x - 21.000000) / (2.000000)) + 149.215000 * ((x - 22.000000) / (1.000000)) + 149.215000 * ((x - 24.000000) / (-1.000000)) + 149.215000 * ((x - 25.000000) / (-2.000000)) + 143.747000 * ((x - 1.000000) / (23.000000)) + 143.747000 * ((x - 2.000000) / (22.000000)) + 143.747000 * ((x - 3.000000) / (21.000000)) + 143.747000 * ((x - 4.000000) / (20.000000)) + 143.747000 * ((x - 5.000000) / (19.000000)) + 143.747000 * ((x - 6.000000) / (18.000000)) + 143.747000 * ((x - 7.000000) / (17.000000)) + 143.747000 * ((x - 8.000000) / (16.000000)) + 143.747000 * ((x - 9.000000) / (15.000000)) + 143.747000 * ((x - 10.000000) / (14.000000)) + 143.747000 * ((x - 11.000000) / (13.000000)) + 143.747000 * ((x - 12.000000) / (12.000000)) + 143.747000 * ((x - 13.000000) / (11.000000)) + 143.747000 * ((x - 14.000000) / (10.000000)) + 143.747000 * ((x - 15.000000) / (9.000000)) + 143.747000 * ((x - 16.000000) / (8.000000)) + 143.747000 * ((x - 17.000000) / (7.000000)) + 143.747000 * ((x - 18.000000) / (6.000000)) + 143.747000 * ((x - 19.000000) / (5.000000)) + 143.747000 * ((x - 20.000000) / (4.000000)) + 143.747000 * ((x - 21.000000) / (3.000000)) + 143.747000 * ((x - 22.000000) / (2.000000)) + 143.747000 * ((x - 23.000000) / (1.000000)) + 143.747000 * ((x - 25.000000) / (-1.000000)) + 183.193000 * ((x - 1.000000) / (24.000000)) + 183.193000 * ((x - 2.000000) / (23.000000)) + 183.193000 * ((x - 3.000000) / (22.000000)) + 183.193000 * ((x - 4.000000) / (21.000000)) + 183.193000 * ((x - 5.000000) / (20.000000)) + 183.193000 * ((x - 6.000000) / (19.000000)) + 183.193000 * ((x - 7.000000) / (18.000000)) + 183.193000 * ((x - 8.000000) / (17.000000)) + 183.193000 * ((x - 9.000000) / (16.000000)) + 183.193000 * ((x - 10.000000) / (15.000000)) + 183.193000 * ((x - 11.000000) / (14.000000)) + 183.193000 * ((x - 12.000000) / (13.000000)) + 183.193000 * ((x - 13.000000) / (12.000000)) + 183.193000 * ((x - 14.000000) / (11.000000)) + 183.193000 * ((x - 15.000000) / (10.000000)) + 183.193000 * ((x - 16.000000) / (9.000000)) + 183.193000 * ((x - 17.000000) / (8.000000)) + 183.193000 * ((x - 18.000000) / (7.000000)) + 183.193000 * ((x - 19.000000) / (6.000000)) + 183.193000 * ((x - 20.000000) / (5.000000)) + 183.193000 * ((x - 21.000000) / (4.000000)) + 183.193000 * ((x - 22.000000) / (3.000000)) + 183.193000 * ((x - 23.000000) / (2.000000)) + 183.193000 * ((x - 24.000000) / (1.000000));
}

double calka(double a, double b)
{
    double c = 1;
    double d = 25;
    int n = 241;
    double h = (d - c) / n;
    double calka = 0;
    for (int i = 1; i < n; i++)
        calka += approximation_func(a, b, c + i * h) + approximation_func(a, b, c + (i + 1) * h);
    calka *= h/2;
    return calka;
}

double calka()
{
    double c = 1;
    double d = 25;
    int n = 2410;
    double h = (d - c) / n;
    double calka = 0;
    for (int i = 1; i < n; i++)
        calka += interpolation_func(c + i * h) + interpolation_func(c + (i) * h + h/2) + interpolation_func(c + (i + 1) * h);
    calka *= h/6;
    return calka;
}


double *pochodna(double *z_tab, unsigned int n)
{
    double *pochodna_tab = new double [n];
    pochodna_tab[0] = z_tab[1] - z_tab[0];
    pochodna_tab[24] = z_tab[24] - z_tab[23];
    for (int i = 1; i < n-1; i++)
    {
        pochodna_tab[i] = ((z_tab[i+1] - z_tab[i-1]) / 2);
    }
    for (int i = 0; i < n; i++)
        cout << i+1 << " " << pochodna_tab[i] << endl;
    return pochodna_tab;
}


int main()
{
    double a, b;
    unsigned const int n = 25;
    double *y_tab = new double [n];
    double *work_tab = new double [n];
    double *approximation_arr = new double [n];
    double *interpolation_arr = new double [241];
    double *pochodna_arr = new double [n];
    work_tab = read_line(n);
    y_tab = y_table_create(n);

    cout << "Data table: " << endl;
    for (int i = 0; i < n; i++)
        cout << y_tab[i] << " " << work_tab[i] << endl;
    cout << endl;

    approximation_arr = approximation_calc(work_tab, y_tab, n, &a, &b);
    cout << "Approximation values: " << endl;
    for (int i = 0; i < n; i++)
        cout << approximation_arr[i] << endl;
    create_file(approximation_arr, "approximation_data.txt", n);
    cout << endl;

    cout << "Interpolation values: " << endl;
    interpolation_arr = interpolation_calc(y_tab, work_tab, n);
    for (int i = 0; i <= 240; i++)
        cout << double(i+10)/10 << " " << interpolation_arr[i] << endl;
    create_file(interpolation_arr, "interpolation_data.txt", 241);
    cout << endl;

    cout << "Derivative values: " << endl;
    pochodna_arr = pochodna(work_tab, n);
    create_file(pochodna_arr, "pochodna.txt", n);
    cout << endl;
    cout << "Integral form approximation func = " << calka(a, b) << endl;
    cout << "Integral from interpolation func = " << calka() << endl;

    delete [] work_tab;
    delete [] y_tab;
    delete [] approximation_arr;
    delete [] pochodna_arr;
    delete [] interpolation_arr;
    return 0;
}
